<!--创建line组成的网格矩阵-->
<html>
<head>
    <title>Line demo</title>
    <style>
        body { margin: 0; }
        canvas { width: 100%; height: 100% }
    </style>
</head>
<script src="//wow.techbrood.com/libs/three.r73.js"></script>
<script>
    var renderer;
    function initThree(){
        height=window.innerHeight;
        width=window.innerWidth;
        //width=document.getElementById('canvas-frame').clientWidth;
        //height=document.getElementById('canvas-frame').clientHeight;
        renderer=new THREE.WebGLRenderer({
            antialias:true
        });
        //renderer=new THREE.CanvasRenderer();
        renderer.setSize(width, height);
        document.body.appendChild( renderer.domElement );
        //document.getElementById('canvas-frame').appendChild(renderer.domElement)
    }

    var camera;
    function initCamera(){
        camera=new THREE.PerspectiveCamera((45, height/width, 5, 500));
        camera.position.set(0, 0, 40); //相机位置。
        camera.up.x = 0; //相机以哪个方向为上方,默认y为上。
        camera.up.y = 1;
        camera.up.z = 0;
        camera.lookAt({ //相机看向哪个坐标。
            x: 0,
            y: 0,
            z: 0
        });
    }

    var scene;
    function initScene(){
        scene = new THREE.Scene();
    }

    var light;
    function initLight(){
        light = new THREE.DirectionalLight(0xFF0000, 1.0, 0);
        light.position.set(100, 100, 200);
        scene.add(light);
    }

    //var line;
    function initObject(){

        var material = new THREE.LineBasicMaterial({vertexColors: THREE.VertexColors}); //括号内参数表示线条的颜色会根据顶点来计算。

        var geometry = new THREE.Geometry();
        var color1 = new THREE.Color(0x444444);
        var color2 = new THREE.Color(0xFF0000);

        geometry.vertices.push(new THREE.Vector3(-100,0,0)); //摄像机坐标顺序为：(x，y，z)，x向右，y向上，z向里
        geometry.vertices.push(new THREE.Vector3(100,0,0));
        geometry.colors.push(color2, color1); //定义顶点两个颜色，渐变色。
        for (var i = 0; i <= 40; i++){ //添加水平线。
            var line = new THREE.Line(geometry, material, THREE.LineSegments);
            line.position.y = i*5 - 100; //逐行添加。
            scene.add(line);
        }
        for (var i = 0; i <= 40; i++){ //添加垂直线。
            var line = new THREE.Line(geometry, material, THREE.LineSegments);
            line.rotation.z = Math.PI * 90 / 180; //先绕z轴逆时针旋转90度。
            line.position.x = i*5-100; //再平移，即定义x坐标。
            scene.add(line);
        }
    }
    function threeStart(){
        initThree();
        initCamera();
        initScene();
        //initLight();
        initObject();
        renderer.render(scene, camera);
    }
</script>
<body onload = 'threeStart();'>
    <div id = 'canvas-frame'></div>
</body>
</html>
